<html>
	<head>
		<meta charset="utf-8"/>
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
		<meta content="width=device-width, initial-scale=1" name="viewport"/>
		<link href="/images/favicon.ico" rel="shortcut icon"/>
		<link href="/css/style.css" rel="stylesheet"/>
		<link href="http://chris.eidhof.nl//index.xml" rel="alternate" title="RSS" type="application/rss+xml"/>
		<title>
			Weeknotes № 1 — Chris Eidhof
		</title>
		<meta content="Weeknotes № 1 — Chris Eidhof" property="og:title"/>
		<meta content="website" property="og:type"/>
		<meta content="/post/2023-01/og-image-c05e.png" property="og:image"/>
	</head>
	<body>
		<section id="content">
			<section id="outer-container">
				<section id="wrapper">
					<header id="header">
						<a href="/" id="title">Chris Eidhof</a>
					</header>
					<article class="post">
						<header>
							<h1>
								Weeknotes № 1
							</h1>
							<h2 class="headline">
								Updating our book
							</h2>
						</header>
						<section class="postbody">
							<p>
								I’d like to write more this year, so here’s an attempt at a proven format that’s new to me: a weekly log of the stuff I’ve worked on. New year, new format!
							</p>
							<p>
								I started the week continuing to work on the update to our book <a href="https://www.objc.io/books/thinking-in-swiftui/">Thinking in SwiftUI</a>. We’ve basically rewritten it from scratch. We chose to do this not only because we understand SwiftUI better, but also because we learned so much through the workshops we’ve been organizing over the last few years. Working with small groups we get a lot of direct feedback and questions, and that has improved our explanations a lot.
							</p>
							<p>
								Our current publishing setup generates two PDFs (one for screen, one for print) and an ePub. We input our own extended Markdown, convert this using a bunch of homegrown tooling, then generate Markdown as the output. This gets read by Pandoc, turned into LaTeX and finally into PDFs and ePub. The setup is a brittle, large, has many dependencies, takes a long time and is hard to debug or finetune for us.
							</p>
							<p>
								Instead, we are now experimenting with generating attributed strings and rendering those using TextKit. This is much faster (less than a second versus minutes) and gives us a lot more control (we’re good at Swift and not good at LaTeX). This week, I worked on adding footnotes, roughly laying things out, highlighting code and adding figures and diagrams that are automatically generated using SwiftUI (<a href="https://m.objc.io/@chris/109621086933102165">here’s an example</a>). To construct the attributed strings we came up with a result builder that lets us build them from different sources (Markdown, plain strings, SwiftUI, highlighted code, etc.). We’ll probably make some episodes about this or open-source this
<sup><a href="#fnref†" name="fnref-rev†">1</a></sup>
.
							</p>
							<p>
								I also worked on turning some of our interactive demos from the workshop into non-interactive diagrams for our book. <a href="https://twitter.com/objcio/status/1494635294133522433">Here’s an old version</a> of one of those diagrams. We’ll probably turn this into a tree with numbers at the vertices and explanations in the text.
							</p>
							<p>
								I read a bit about the <a href="https://gist.github.com/DougGregor/4f3ba5f4eadac474ae62eae836328b71">new macro system in Swift</a>. Very interesting stuff, but as of yet I understand very little about it. I’ll definitely look into this in more detail sometime soon.
							</p>
							<p>
								I have only logged into Twitter maybe once this week, and basically moved to Mastodon. There’s a lot less activity, but also much less noise. I like it there.
							</p>
							<p>
								At home, I had fun building a simple marble track out of scrap wood with the 4yo. In the house we’re renovating, I took down a wall and now we’re erecting a new wall (with a much larger door opening).
							</p>
							<p>
								Over the holidays I made a ginger bug (which started to foam), but the ginger soda I tried making from it didn’t start carbonating. I’m not sure if it’s turning into vinegar or alcohol now, but it doesn’t taste right. To get better at fermentation, I bought <a href="https://www.wildfermentation.com/the-art-of-fermentation/">The Art of Fermentation</a>. I haven’t read too much yet, but at least the book is very well designed and I love the typography.
							</p>
							<div class="footnotes">
								<hr/>
								<ol>
									<li id="fnref†">
										<p>
											<strong>Update</strong>
											 we just released the <a href="https://talk.objc.io/episodes/S01E337-attributed-string-builder-part-1">first episode</a> about this
											 <a href="#fnref-rev†">↩</a></p>
									</li>
								</ol>
							</div>
						</section>
						<footer class="group" id="post-meta">
							<div>
								<span>Posted on 
									<span><time>Jan 5, 2023</time>
										 by Chris Eidhof 
										(<a href="https://m.objc.io/@chris" rel="me">Mastodon</a>, <a href="https://bsky.app/profile/eidhof.nl">BSky</a>).</span></span>
							</div>
						</footer>
					</article>
					<footer>
						<nav id="post-nav">
							<span class="prev"><a href="/post/2023-02"><span class="arrow">←</span>
									Weeknotes № 2</a></span>
							<span class="next"><a href="/post/swiftui-state-lifetime">Lifetime of State Properties in SwiftUI
									<span class="arrow">→</span></a></span>
						</nav>
					</footer>
				</section>
			</section>
		</section>
	</body>
</html>